%header
  %h1 Jobs
  %h2 Current Status
%article
  %table
    %thead
      %tr
        %th Name
        %th Logged
        %th Duration
        %th Status
        %th
    %tbody
      - @job_statuses.each do |job|
        %tr{:class => cycle('odd', 'even')}
          %td= job.name
          %td= time_ago_in_words(job.created_at) + " ago"
          %td
            -if job.end_time
              = "#{(job.end_time - job.start_time).to_i} seconds"
            -else
              = "---"
          %td
            -if job.status == JobStatus::RUNNING
              = "Running"
            -elsif job.status == JobStatus::FINISHED_NO_ERRORS
              = "Finished"
            -elsif job.status == JobStatus::FINISHED_WITH_ERRORS
              = "-Errors-"
            -else
              = "Unknown"
          %td= link_to 'Show', job_status_path(job)
  = will_paginate(@activities)